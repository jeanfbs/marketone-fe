define(["chart","api"],function(s,c){var h=function(o,a,t){var e={crossDomain:!0,headers:{"content-type":"application/json","cache-control":"no-cache"},dataType:"json"};return e.url=o,e.method=a,null!=t&&null!=t&&(e.data=t),$.ajax(e)};$(document).ready(function(){$("#insertHeader").load("./fragments/header.html");var o=h(c["vendas.atual.dinheiro"],"GET"),a=null;o.done(function(o){a=new s.Knob("#vendas-dinheiro",o.value,b)}).fail(function(o){console.log(o.responseText)}),o=h(c["vendas.atual.credito"],"GET");var t=null;o.done(function(o){t=new s.Knob("#vendas-credito",o.value,b)}).fail(function(o){console.log(o.responseText)}),o=h(c["vendas.atual.debito"],"GET");var e=null;o.done(function(o){console.log(o),e=new s.Knob("#vendas-debito",o.value,b)}).fail(function(o){console.log(o.responseText)});var i=new s.Donut("donut-vendas-atuais",[{label:"Dinheiro",value:33389.4},{label:"Crédito",value:87389.54},{label:"Débito",value:29689.49}]),d=new s.BarChart("vendas-semanal",[{y:"02/06",dinheiro:1254,credito:55.21,debito:100},{y:"03/06",dinheiro:152.54,credito:125,debito:205},{y:"04/06",dinheiro:50,credito:454,debito:2120},{y:"05/06",dinheiro:3678.12,credito:3342.67,debito:490},{y:"08/06",dinheiro:242,credito:2817,debito:809},{y:"09/06",dinheiro:1544.65,credito:89,debito:550.66},{y:"10/06",dinheiro:100,credito:1209,debito:2779}],{barColors:["#FFEB3B","#FFC107","#FF9800"],labels:["Dinheiro","Cartão de Crédito","Cartão de Débito"]}),r=new s.BarChart("vendas-mensal",[{y:"02/06",dinheiro:1254,credito:55.21,debito:100,total:1409.21},{y:"03/06",dinheiro:152.54,credito:125,debito:205,total:152.54+125+205},{y:"04/06",dinheiro:50,credito:454,debito:2120,total:2624},{y:"05/06",dinheiro:3678.12,credito:3342.67,debito:490,total:7510.79},{y:"08/06",dinheiro:242,credito:2817,debito:809,total:3868},{y:"09/06",dinheiro:1544.65,credito:89,debito:550.66,total:2184.31},{y:"10/06",dinheiro:100,credito:1209,debito:2779,total:4088},{y:"02/06",dinheiro:1254,credito:55.21,debito:100,total:1409.21},{y:"03/06",dinheiro:152.54,credito:125,debito:205,total:152.54+125+205},{y:"04/06",dinheiro:50,credito:454,debito:2120,total:2624},{y:"05/06",dinheiro:3678.12,credito:3342.67,debito:490,total:7510.79},{y:"08/06",dinheiro:242,credito:2817,debito:809,total:3868},{y:"09/06",dinheiro:1544.65,credito:89,debito:550.66,total:2184.31},{y:"10/06",dinheiro:100,credito:1209,debito:2779,total:4088},{y:"02/06",dinheiro:1254,credito:55.21,debito:100,total:1409.21},{y:"03/06",dinheiro:152.54,credito:125,debito:205,total:152.54+125+205},{y:"04/06",dinheiro:50,credito:454,debito:2120,total:2624},{y:"05/06",dinheiro:3678.12,credito:3342.67,debito:490,total:7510.79},{y:"08/06",dinheiro:242,credito:2817,debito:809,total:3868},{y:"09/06",dinheiro:1544.65,credito:89,debito:550.66,total:2184.31},{y:"10/06",dinheiro:100,credito:1209,debito:2779,total:4088}],{barColors:["#FFEB3B","#FFC107","#FF9800","#FF5722"],labels:["Dinheiro","Cartão de Crédito","Cartão de Débito","Total"]}),l=new s.BarChart("estoque-anual",[{y:"01/2018",entradas:1254,saidas:55,saldo:100,valorTotal:1409.21},{y:"02/2018",entradas:152,saidas:125,saldo:205,valorTotal:152.54+125+205},{y:"03/2018",entradas:50,saidas:454,saldo:2120,valorTotal:2624},{y:"04/2018",entradas:3678,saidas:3342,saldo:490,valorTotal:7510.79},{y:"05/2018",entradas:242,saidas:2817,saldo:809,valorTotal:3868},{y:"06/2018",entradas:1544,saidas:89,saldo:550,valorTotal:2184.31},{y:"17/2018",entradas:100,saidas:1209,saldo:2779,valorTotal:4088},{y:"08/2018",entradas:1254,saidas:55,saldo:100,valorTotal:1409.21},{y:"09/2018",entradas:152,saidas:125,saldo:205,valorTotal:152.54+125+205},{y:"10/2018",entradas:50,saidas:454,saldo:2120,valorTotal:2624},{y:"11/2018",entradas:3678,saidas:3342,saldo:490,valorTotal:7510.79},{y:"12/2018",entradas:242,saidas:2817,saldo:809,valorTotal:3868}],{barColors:["#4CAF50","#2196F3","#FF9800","#FF5722"],labels:["Entradas","Saidas","Saldo Final","Total do Estoque"]});l.show();var n=$("#categoria").select2({placeholder:"Categoria",allowClear:!0,theme:"bootstrap"});$("#avaliarItem").off("click").on("click",function(){$("#td-tipo").text(""!=$("#inputConsulta").val()?"Produto":"Categoria"),$("#td-produto").text(""!=$("#inputConsulta").val()?"Produto "+Math.floor(10*Math.random()):n.val())}),$('a[data-toggle="tab"]').on("shown.bs.tab",function(o){switch($(o.target).attr("href")){case"#vendas":a.show(),t.show(),e.show(),d.show(),r.show(),i.show();break;case"#estoque":l.show()}}),$('[data-toggle="tooltip"]').tooltip()});var b=function(o){return"R$ "+parseFloat(o).toLocaleString()}});