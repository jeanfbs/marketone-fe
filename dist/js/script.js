define(["chart","api"],function(n,e){var o=function(a,n,e){var o={crossDomain:!0,headers:{"content-type":"application/json","cache-control":"no-cache"},dataType:"json"};return o.url=a,o.method=n,null!=e&&null!=e&&(o.data=e),$.ajax(o)};$(document).ready(function(){$("#insertHeader").load("./fragments/header.html"),o(e["vendas.atual.dinheiro"],"GET").done(function(a){knobVendasDinheiro=new n.Knob("#vendas-dinheiro",a.value,t)}).fail(function(a){knobVendasDinheiro=new n.Knob("#vendas-dinheiro")}),o(e["vendas.atual.credito"],"GET").done(function(a){knobVendasCredito=new n.Knob("#vendas-credito",a.value,t)}).fail(function(a){knobVendasCredito=new n.Knob("#vendas-credito")}),o(e["vendas.atual.debito"],"GET").done(function(a){knobVendasDebito=new n.Knob("#vendas-debito",a.value,t)}).fail(function(a){knobVendasDebito=new n.Knob("#vendas-debito")}),o(e["vendas.acumulo.mes"],"GET").done(function(a){donutVendasAtuais=new n.Donut("donut-vendas-atuais",a)}).fail(function(a){donutVendasAtuais=new n.Donut("donut-vendas-atuais")}),o(e["vendas.semanal"],"GET").done(function(a){chartBarVendasSemanal=new n.BarChart("vendas-semanal",a,{barColors:["#FFEB3B","#FFC107","#FF9800"],labels:["Dinheiro","Cartão de Crédito","Cartão de Débito"]})}).fail(function(a){chartBarVendasSemanal=new n.BarChart("vendas-semanal")}),o(e["vendas.mensal"],"GET").done(function(a){chartBarVendasMensal=new n.BarChart("vendas-mensal",a,{barColors:["#FFEB3B","#FFC107","#FF9800","#FF5722"],labels:["Dinheiro","Cartão de Crédito","Cartão de Débito","Total"]})}).fail(function(a){chartBarVendasMensal=new n.BarChart("vendas-mensal")}),o(e["estoque.anual"],"GET").done(function(a){chartBarEstoqueAnual=new n.BarChart("estoque-anual",a,{barColors:["#4CAF50","#2196F3","#FF9800","#FF5722"],labels:["Entradas","Saidas","Saldo Final","Total do Estoque"]}),chartBarEstoqueAnual.show()}).fail(function(a){chartBarEstoqueAnual=new n.BarChart("estoque-anual"),chartBarEstoqueAnual.show()});var a=$("#categoria").select2({placeholder:"Categoria",allowClear:!0,theme:"bootstrap"});$("#avaliarItem").off("click").on("click",function(){$("#td-tipo").text(""!=$("#inputConsulta").val()?"Produto":"Categoria"),$("#td-produto").text(""!=$("#inputConsulta").val()?"Produto "+Math.floor(10*Math.random()):a.val())}),$('a[data-toggle="tab"]').on("shown.bs.tab",function(a){switch($(a.target).attr("href")){case"#vendas":knobVendasDinheiro.show(),knobVendasCredito.show(),knobVendasDebito.show(),chartBarVendasSemanal.show(),chartBarVendasMensal.show(),donutVendasAtuais.show();break;case"#estoque":chartBarEstoqueAnual.show()}}),$('[data-toggle="tooltip"]').tooltip()});var t=function(a){return"R$ "+parseFloat(a).toLocaleString()}});