define(function(){return{BarChart:function(){function t(t,e,a){this.chartData=e,this.settings=a,this.selector=t,this.morrisObject=null,0<this.chartData.length&&(this.xkey=Object.keys(this.chartData[0])[0],this.ykeys=Object.keys(this.chartData[0]).slice(1))}return t.prototype.show=function(){if(null!=this.morrisObject)return this.redraw(),!1;$.when(this).then(this.buildChart()),$.when(this).then(this.buildCheckbox()).then(this.addHandlerLegend())},t.prototype.reload=function(a){tempDataList=[],$.each(this.chartData,function(t,e){other=Object.assign({},e),$.each(a,function(t,e){delete other[e]}),tempDataList.push(other)}),this.morrisObject.setData(tempDataList)},t.prototype.buildCheckbox=function(){var i=$('<div class="variables text-center"></div>'),r=this.settings;$.each(this.ykeys,function(t,e){var a=$('<label class="checkbox-inline text-capitalize"></label>').append($('<input type="checkbox" checked class="checkLegend"></span>').val(e)).append(r.labels[t]).append($('<span class="legend">').css({"background-color":r.barColors[t]}));i.append(a)}),$("#"+this.selector).parent("div").append(i)},t.prototype.redraw=function(){this.morrisObject.redraw()},t.prototype.addHandlerLegend=function(){var a=this;$("#"+this.selector).parent("div").find(".checkLegend").off("click").on("click",function(t){var e=[];$(".checkLegend:not(:checked)").each(function(){e.push($(this).val())});a.reload(e)})},t.prototype.buildChart=function(){$("#"+this.selector).empty();var h=this.ykeys;if(null!=this.chartData&&0==this.chartData.length)return $("#"+this.selector).addClass("vertical-align").append('<h4 class="text-danger"><i class="fa fa-exclamation-circle fa-fw" aria-hidden="true"></i> Não conseguimos encontrar nenhum resultados para exibir!</h4>'),!1;this.morrisObject=Morris.Bar({element:this.selector,data:this.chartData,dataLabels:!1,resize:!0,barColors:this.settings.barColors,xkey:this.xkey,ykeys:this.ykeys,labels:this.settings.labels,hoverCallback:function(t,i,e,r){var a=$("<div class='morris-hover-row-label'></div>").text(r.y),n=$("<table></table>").addClass("table table-bordered table-condensed"),s=$("<tbody></tbody>"),o=Object.keys(r).slice(1),c=function(t,e){for(var a=[],i=e.length,r=t.length,n=0;n<i;n++){for(var s=0,o=0;o<r;o++)e[n]==t[o]&&(s=o);var c={};c.key=e[n],c.index=s,a.push(c)}return a}(h,o);return $.each(c,function(t,e){var a=$("<tr></tr>").append("<td class='text-left text-capitalize'>"+i.labels[e.index]+"</td>").append("<td><b>R$ "+parseFloat(r[e.key]).toLocaleString()+"</b></td>");s.append(a)}),n.append(s),a[0].outerHTML+n[0].outerHTML}})},t}(),Knob:function(){function t(t,e,a){this.selector=t,this.value=e,this.formatter=a}t.prototype.create=function(){var t=this.value,e=function(t){for(var e=t,a=1;1<e;)e=t/(a*=10);return a}(t);if(null==t||null==t)return $(this.selector).addClass("hide"),$(this.selector).parent("div").addClass("vertical-align").css({width:"100%",height:150}).append('<h4 class="text-danger"><i class="fa fa-exclamation-circle fa-fw" aria-hidden="true"></i> Não conseguimos encontrar nenhum resultados para exibir!</h4>'),!1;this.knobObject=$(this.selector).knob({width:150,height:150,angleOffset:180,max:e,fgColor:"#FFA739",inputColor:"#222",skin:"tron",thickness:".2",readOnly:!0,fontWeight:400,format:this.formatter,draw:function(){a(t,this.i[0])}})};var a=function(t,e){var a=0;1e3<t?a=11:100<t?a=14:10<t&&(a=15),e.style.fontSize=a+"pt",e.style.fontWeight="bold"};return t.prototype.show=function(){if(null!=this.knobObject)return!1;$.when(this.create()).then(this.animate())},t.prototype.animate=function(){var t=this.selector,e=this.value;if(null==e||null==e)return!1;$(t).animate({value:e},{duration:3e3,easing:"swing",progress:function(){$(this).val(parseFloat($(t).val()).toFixed(2)).trigger("change"),$(this).hasClass("hide")&&$(this).removeClass("hide")}})},t}(),Donut:function(){function t(t,e){this.selector=t,this.data=e}return t.prototype.create=function(){this.donutObject=Morris.Donut({element:this.selector,data:this.data,colors:["#F57F17","#FFAB00","#FFD600"],formatter:function(t,e){return"R$ "+e.value.toLocaleString()},resize:!0,showPercentage:!0})},t.prototype.redraw=function(){this.donutObject.redraw()},t.prototype.show=function(){if(null!=this.donutObject)return this.redraw(),!1;this.create()},t}()}});