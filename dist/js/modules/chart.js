define(function(){return{BarChart:function(){function t(t,e,a){this.chartData=e,this.settings=a,this.selector=t,this.morrisObject=null,0<this.chartData.length&&(this.xkey=Object.keys(this.chartData[0])[0],this.ykeys=Object.keys(this.chartData[0]).slice(1))}return t.prototype.show=function(){if(null!=this.morrisObject)return this.redraw(),!1;$.when(this).then(this.buildChart()),$.when(this).then(this.buildCheckbox()).then(this.addHandlerLegend())},t.prototype.reload=function(a){tempDataList=[],$.each(this.chartData,function(t,e){other=Object.assign({},e),$.each(a,function(t,e){delete other[e]}),tempDataList.push(other)}),this.morrisObject.setData(tempDataList)},t.prototype.buildCheckbox=function(){var i=$('<div class="variables text-center"></div>'),n=this.settings.barColors;$.each(this.ykeys,function(t,e){var a=$('<label class="checkbox-inline text-capitalize"></label>').append($('<input type="checkbox" checked class="checkLegend"></span>').val(e)).append(e).append($('<span class="legend">').css({"background-color":n[t]}));i.append(a)}),$("#"+this.selector).parent("div").append(i)},t.prototype.redraw=function(){this.morrisObject.redraw()},t.prototype.addHandlerLegend=function(){var a=this;$("#"+this.selector).parent("div").find(".checkLegend").off("click").on("click",function(t){var e=[];$(".checkLegend:not(:checked)").each(function(){e.push($(this).val())});a.reload(e)})},t.prototype.buildChart=function(){if($("#"+this.selector).empty(),null!=this.chartData&&0==this.chartData.length)return $("#"+this.selector).addClass("vertical-align").append('<h4 class="text-danger"><i class="fa fa-exclamation-circle fa-fw" aria-hidden="true"></i> Não conseguimos encontrar nenhum resultados para exibir!</h4>'),!1;this.morrisObject=Morris.Bar({element:this.selector,data:this.chartData,dataLabels:!1,resize:!0,barColors:this.settings.barColors,xkey:this.xkey,ykeys:this.ykeys,labels:this.settings.labels,hoverCallback:function(t,e,a,i){var n=$("<div></div>"),r=$("<div class='morris-hover-row-label'></div>").text(i.y),s=$("<table></table>").addClass("table table-bordered table-condensed"),o=$("<tbody></tbody>"),c=Object.keys(i).slice(1);return $.each(c,function(t,e){var a=$("<tr></tr>").append("<td class='text-left text-capitalize'>"+e+"</td>").append("<td><b>R$ "+parseFloat(i[e]).toLocaleString()+"</b></td>");o.append(a)}),s.append(o),n.append(r).append(s),n.html()}})},t}(),Knob:function(){function t(t,e,a){this.selector=t,this.value=e,this.formatter=a}return t.prototype.create=function(){var e=this.value,t=function(t){for(var e=t,a=1;1<e;)e=t/(a*=10);return a}(e);if($(this.selector).empty(),null==e||"undefined"==e)return $(this.selector).parent("div").addClass("vertical-align").css({width:"100%",height:150}).append('<h4 class="text-danger"><i class="fa fa-exclamation-circle fa-fw" aria-hidden="true"></i> Não conseguimos encontrar nenhum resultados para exibir!</h4>'),!1;this.knobObject=$(this.selector).knob({width:150,height:150,angleOffset:180,max:t,fgColor:"#FFA739",inputColor:"#222",skin:"tron",thickness:".2",readOnly:!0,fontWeight:400,format:this.formatter,draw:function(){var t=0;1e3<e?t=11:100<e?t=15:10<e&&(t=16),$(this.i).css("font-size",t+"pt")}})},t.prototype.show=function(){if(null!=this.knobObject)return!1;$.when(this.create()).then(this.animate())},t.prototype.animate=function(){var t=this.selector,e=this.value;$(t).animate({value:e},{duration:3e3,easing:"swing",progress:function(){$(this).val(parseFloat($(t).val()).toFixed(2)).trigger("change").removeClass("hide")}})},t}(),Donut:function(){function t(t,e){this.selector=t,this.data=e}return t.prototype.create=function(){this.donutObject=Morris.Donut({element:this.selector,data:this.data,colors:["#F57F17","#FFAB00","#FFD600"],formatter:function(t,e){return"R$ "+e.value.toLocaleString()},resize:!0,showPercentage:!0})},t.prototype.redraw=function(){this.donutObject.redraw()},t.prototype.show=function(){if(null!=this.donutObject)return this.redraw(),!1;this.create()},t}()}});