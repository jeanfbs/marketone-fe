define(["datatable","api"],function(d,a){$(function(){$("#insertHeader").load("../../fragmentos/menu-navegacao.html");var t={bServerSide:!0,ajax:{url:a["fechamentos.pesquisa"],type:"GET",data:function(t){t.search=[],t.search[0]={filter:"idCaixa",value:$("#idCaixa option:selected").val()},t.search[1]={filter:"data",value:$("#dataInicial").val()},t.search[2]={filter:"data",value:$("#dataFinal").val()}}},columnDefs:[{orderable:!1,targets:0},{targets:0,render:function(t,d,a,e){return a[1],'<a href="#" class="detailIcon">          <i  class="fa fa-plus-circle fa-fw plus" aria-hidden="true"></i>         <i class="fa fa-minus-circle fa-fw text-danger hide minus" aria-hidden="true"></i>       </a>'}}]},s=new d.Table($("#tabelaFechamentos"),t,[null,null,"http://localhost:8789/download"]);s.show(),$(document).off("click",".detailIcon").on("click",".detailIcon",function(t){t.preventDefault();var d=$(this).closest("tr"),a=[],e=s.getDT().row(d),i=$.inArray(d.attr("id"),a);e.child.isShown()?($(this).find(".plus").removeClass("hide"),$(this).find(".minus").addClass("hide"),d.removeClass("selected"),e.child.hide(),a.splice(i,1)):($(this).find(".plus").addClass("hide"),$(this).find(".minus").removeClass("hide"),d.addClass("selected"),e.child((e.data(),'<table class="table table-condensed table-simple-bordered">\t\t\t\t\t\t <caption> Movimentações Efetuadas</caption>                        <thead>                            <tr class="active">                                <th>Horário</th>                                <th>Total das Entradas</th>                                <th>Dinheiro</th>                                <th>Crédito</th>                                <th>Débito</th>                                <th>Saída</th>                                <th>Tipo</th>                            </tr>                        </thead>                        <tbody>                            <tr>                                <td>12/12/12 12:40</td>                                <td>123.41</td>                                <td>12.21</td>                                <td>12.21</td>                                <td>12.21</td>                                <td>0.00</td>                                <td>VENDA</td>                            </tr>                            <tr>                                <td>12/12/12 12:40</td>                                <td>123.41</td>                                <td>12.21</td>                                <td>12.21</td>                                <td>12.21</td>                                <td>0.00</td>                                <td>VENDA</td>                            </tr>                            <tr>                                <td>12/12/12 12:40</td>                                <td>123.41</td>                                <td>12.21</td>                                <td>12.21</td>                                <td>12.21</td>                                <td>0.00</td>                                <td>VENDA</td>                            </tr>                            <tr>                                <td>12/12/12 12:40</td>                                <td>123.41</td>                                <td>12.21</td>                                <td>12.21</td>                                <td>12.21</td>                                <td>0.00</td>                                <td>VENDA</td>                            </tr>                            <tr>                                <td>12/12/12 12:40</td>                                <td>123.41</td>                                <td>12.21</td>                                <td>12.21</td>                                <td>12.21</td>                                <td>0.00</td>                                <td>VENDA</td>                            </tr>                        </tbody>                    </table>')).show(),-1===i&&a.push(d.attr("id")))}),$("#input-search").on("keyup",function(t){s.redraw()}),$("#btn-search").on("click",function(){tabelaProdutos.redraw()})})});